version: "3"

tasks:
  buf-install:
    cmds:
      - go install github.com/bufbuild/buf/cmd/buf@latest
      - go install google.golang.org/protobuf/cmd/protoc-gen-go@latest
      - go install connectrpc.com/connect/cmd/protoc-gen-connect-go@latest
    status:
      - which buf
      - which protoc-gen-go
      - which protoc-gen-connect-go

  dev:
    cmds:
      - podman-compose build
      - podman-compose --podman-run-args="--replace" up
